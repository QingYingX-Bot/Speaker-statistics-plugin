# 📝 更新日志 (Changelog) by:AI

本文档记录了插件的所有重要变更。

---

## [3.1.0] - 2025-11-11

### ✨ 新增功能

#### 数据库支持扩展
- 🗄️ **SQLite 数据库支持**：新增 SQLite 数据库适配器，支持双数据库选择
  - 支持 PostgreSQL（默认，生产环境推荐）
  - 支持 SQLite（小型部署推荐，无需安装数据库服务器）
  - 通过配置 `database.type` 选择数据库类型
  - **SQLite 路径配置优化**：支持直接写文件名，自动拼接插件 data 目录
    - 只写文件名（如 `"speech_statistics.db"`）：自动放在插件 `data` 目录下
    - 相对路径（如 `"data/my.db"`）：相对于插件目录
    - 绝对路径：直接使用该路径
    - 不指定 `path`：默认使用 `speech_statistics.db`（在插件 `data` 目录下）
  - SQLite 数据库文件默认位置：`plugins/Speaker-statistics-plugin/data/speech_statistics.db`
  - 自动适配占位符、数据类型、事务等差异
  - 支持 WAL 模式，提高并发性能
  - `better-sqlite3` 设为可选依赖，仅在使用 SQLite 时需要安装

#### 数据库架构优化
- 🏗️ **适配器模式架构**：采用数据库适配器模式，实现数据库抽象层
  - `BaseAdapter`：定义统一数据库接口
  - `PostgreSQLAdapter`：PostgreSQL 适配器实现
  - `SQLiteAdapter`：SQLite 适配器实现
  - `DatabaseService`：根据配置自动选择适配器
  - 所有业务代码无需修改，自动适配不同数据库

#### 配置界面增强
- ⚙️ **Guoba 配置界面更新**：数据库配置界面支持 SQLite
  - 添加数据库类型选择器（PostgreSQL/SQLite）
  - 添加 SQLite 数据库路径配置项（支持直接写文件名）
  - PostgreSQL 配置项标记为可选（仅 PostgreSQL 需要）
  - 配置项说明更清晰，标注适用场景
- ⚙️ **配置文件模板更新**：
  - 更新 `config/configTemplate.js`，添加 `database.type` 和 `database.path` 字段说明
  - 更新 `data/global.json`，添加 `type` 字段（默认 `postgresql`）
  - SQLite 路径配置支持简化写法（直接写文件名）

#### 插件更新功能
- 🔄 **插件更新命令**：新增 `#水群更新` 和 `#水群强制更新` 命令
  - `#水群更新`：普通更新插件（执行 `git pull`）
  - `#水群强制更新`：强制更新插件（重置到远程分支，覆盖本地修改）
  - 自动检测是否已是最新版本
  - 自动检测依赖变更，提示是否需要重新安装依赖
  - **自动重启功能**：更新成功后自动重启插件以应用更新
    - 直接调用系统 `restart.js` 模块，使用标准重启流程
    - 自动保存重启信息到 Redis（持久化存储）
    - 重启前延迟1秒，确保更新消息发送成功
    - 如果自动重启失败，会提示用户手动重启
  - **重启完成提示**：重启完成后自动发送提示消息
    - 使用系统标准重启流程，自动发送重启完成提示
    - 优先发送到原群聊，失败则发送给主人
    - 提示消息包含重启用时和完成状态
  - 仅管理员可用

#### 成就系统优化
- ⏰ **自动卸下时间显示**：成就页面显示自动佩戴成就的卸下时间
  - 显示剩余时间（X小时Y分钟后）
  - 过期时显示"即将自动卸下"提示
  - 仅对自动佩戴的成就显示（手动设置的成就无时限）
  - **位置优化**：自动卸下时间显示在成就名称下方，更醒目易读
  - 使用蓝色文字和加粗样式，提升视觉效果
- 🔧 **24小时计时优化**：修复自动佩戴成就的24小时计时逻辑
  - 24小时从成就获取时间开始计算，不会因为后续操作而重置
  - 避免重复设置自动显示成就时重置计时器
  - 优化自动设置逻辑，仅在没有任何显示成就时才自动设置
- 🕐 **时区计算修复**：修复成就自动卸下功能的时区问题
  - 修复 `checkAndRemoveExpiredAutoDisplay` 方法中的时区计算错误
  - 统一使用 UTC+8 时区进行时间计算，确保24小时计时准确
  - 修复前端页面时区计算，确保显示剩余时间准确
  - 修复模板渲染中的时区计算，确保所有时间显示一致
  - 解决因时区问题导致第二天成就重新佩戴的问题

### 🔧 技术优化

#### 数据库架构重构
- ✅ **适配器模式实现**：
  - 创建 `BaseAdapter` 基类，定义统一数据库接口
  - 重构 `DatabaseService` 为适配器选择器
  - 实现 `PostgreSQLAdapter` 和 `SQLiteAdapter`
  - 所有业务逻辑方法保持不变，自动适配不同数据库
- ✅ **SQL 兼容性处理**：
  - 自动转换占位符（`$1, $2...` ↔ `?`）
  - 自动映射数据类型（VARCHAR→TEXT, BIGINT→INTEGER, BOOLEAN→INTEGER）
  - 统一 UPSERT 语法（`ON CONFLICT ... DO UPDATE`）
  - 适配数据库大小查询（PostgreSQL: `pg_database_size()`, SQLite: `pragma_page_*`）
- ✅ **连接管理优化**：
  - PostgreSQL：使用连接池（Pool）
  - SQLite：使用单连接，支持 better-sqlite3 和 sqlite3 两种驱动
  - SQLite 自动启用 WAL 模式，提高并发性能
- ✅ **依赖管理优化**：
  - `better-sqlite3` 设为可选依赖（`optionalDependencies`）
  - 仅在使用 SQLite 时需要安装，使用 PostgreSQL 时无需安装
  - 未安装 SQLite 驱动时给出清晰的错误提示
  - 更新 `better-sqlite3` 版本至 `^12.4.1`（最新稳定版）
  - 确保在 Linux 和 Windows 系统上都能正常安装
- ✅ **依赖错误处理优化**：
  - **sharp 模块错误处理**：动态导入 sharp，避免模块加载时失败
    - 在需要使用 sharp 时才尝试加载
    - 加载失败时返回清晰的错误提示和解决方案
    - 提示安装 Windows 构建工具（Windows Build Tools 或 Visual Studio Build Tools）
  - **better-sqlite3 bindings 错误处理**：检测 bindings 文件缺失错误
    - 提供详细的解决方案（重新安装、安装构建工具、回退到 sqlite3）
    - 自动尝试回退到 sqlite3（如果 better-sqlite3 失败）
    - 错误提示包含原始错误信息，便于调试

#### 代码重构
- ✅ **API响应格式统一**：修复所有API的响应格式，统一使用 `ApiResponse.success()` 和 `ApiResponse.error()`
- ✅ **秘钥验证修复**：修复前端秘钥验证逻辑，正确解析API响应格式
  - 修复 `validation.valid` 应为 `response.data.valid` 的问题
  - 验证成功时显示成功提示（绿色），而非错误提示
- ✅ **重启功能优化**：使用系统标准重启流程
  - 直接调用系统 `restart.js` 模块，复用标准重启逻辑
  - 使用 Redis 存储重启信息（持久化，支持跨进程）
  - 自动发送重启完成提示消息
  - 简化代码，移除自定义重启逻辑
- ✅ **代码重构优化**：创建 `CommandWrapper` 工具类
  - 统一验证和错误处理逻辑，减少重复代码
  - `validateAndReply()`：统一验证并回复模式
  - `safeExecute()`：统一异步操作的错误处理
  - 重构 `AdminCommands.js`，使用 CommandWrapper 简化代码
  - 优化 `toggleSetting()` 方法，使用映射表替代 switch 语句
- ✅ **代码清理**：
  - 移除重复的代码逻辑
  - 统一群名称格式化方法（`getFormattedGroupName`）
  - 提取重复的Token验证逻辑
  - 清理未使用的导入和代码
  - 每个命令方法减少约 5-10 行重复代码

#### 数据库优化
- ✅ **自动显示成就逻辑优化**：
  - 保留已存在自动显示成就的 `auto_display_at` 时间，不重置24小时计时
  - 仅在首次自动设置时设置 `auto_display_at`
  - 避免重复设置时重置计时器

#### 前端优化
- ✅ **成就页面数据解析修复**：修复成就列表API响应格式解析问题
  - 正确解析 `response.data.achievements` 数组
  - 正确获取 `response.data.current_display` 和 `response.data.display_info`
- ✅ **成就页面UI优化**：优化自动卸下时间显示位置和样式
  - 将自动卸下时间从卡片底部移至成就名称下方
  - 使用蓝色文字和加粗样式，提升可读性
  - 优化间距和布局，使信息层次更清晰
- ✅ **响应式设计优化**：优化移动端显示效果

### 🐛 问题修复

- ✅ 修复成就页面 `this.achievements is not iterable` 错误
- ✅ 修复秘钥验证成功但显示错误图标的问题
- ✅ 修复自动佩戴成就24小时计时被重置的问题
- ✅ 修复成就页面数据不显示的问题（API响应格式解析错误）
- ✅ 修复自动设置成就时重复设置导致计时器重置的问题
- ✅ 修复 sharp 模块在 Windows 上安装失败导致插件无法加载的问题
- ✅ 修复 better-sqlite3 bindings 文件缺失时错误提示不清晰的问题
- ✅ 优化依赖安装失败时的错误提示，提供详细的解决方案
- ✅ 修复成就自动卸下功能的时区计算问题（使用 UTC+8 时区统一计算）
- ✅ 修复前端页面时区计算，确保剩余时间显示准确
- ✅ 修复模板渲染中的时区计算，确保时间显示一致

### 📝 文档更新

- ✅ 更新 README.md，添加 SQLite 数据库支持说明
- ✅ 更新安装步骤，说明 SQLite 驱动的可选安装
- ✅ 更新配置说明，添加 SQLite 配置示例
- ✅ 更新 Guoba 配置界面，支持数据库类型选择
- ✅ 优化安装说明，明确 `better-sqlite3` 已包含在依赖中，无需额外安装
- ✅ 更新安装提示，说明自动回退机制和错误处理

---

## [3.0.5] - 2025-11-06

### ✨ 新增功能

#### 管理页面增强
- 🎯 **管理页面重构**：全新的管理界面，采用左右分栏布局
- 📊 **群管理功能增强**：
  - 左侧群聊列表卡片式选择
  - 右侧显示群详情和管理功能
  - 群内用户排名显示（前10名，带奖牌图标🥇🥈🥉）
  - 刷新统计数据功能
  - 清除群统计数据功能
- 👥 **用户管理功能增强**：
  - 左侧用户列表卡片式选择
  - 右侧显示用户详情
  - 查看用户所在的所有群聊（显示每个群的消息数、字数、排名）
  - 用户基本信息展示（用户ID、角色、所在群数、总消息数、总字数、创建时间、更新时间）
  - 网页界面支持修改用户权限（user ↔ admin）
  - 清除用户数据功能（待实现后端API）
- 📈 **概览页面优化**：
  - 显示总群数、总用户数、总消息数
  - 热门群聊列表（显示群名而非群号）
  - 优化数据展示格式

#### 身份验证优化
- 🔒 **验证状态管理**：使用 `sessionStorage` 记录验证状态，避免重复验证
- 🎫 **Token访问优化**：通过QQ命令链接访问时，仅在第一次打开时验证身份
- 🛡️ **页面级验证**：
  - 管理页面：每次刷新不弹窗，使用会话验证状态
  - 背景设置页面：进入页面时验证身份
  - 成就设置页面：进入页面时验证身份
- 🔐 **验证码系统**：敏感操作（修改/移除秘钥）需要验证码验证

### 🔧 技术优化

#### 代码重构
- ✅ **API统一化**：所有API调用统一使用 `ApiResponse` 工具类
- ✅ **中间件系统**：创建 `AuthMiddleware` 统一处理认证和参数验证
- ✅ **服务拆分**：
  - `BackgroundServer.js` 重构为 `WebServer.js`
  - 拆分认证服务：`TokenManager.js`、`VerificationCodeManager.js`、`AuthService.js`
  - 拆分API路由：`AuthApi.js`、`StatsApi.js`、`RankingApi.js`、`AchievementApi.js`、`BackgroundApi.js`、`AdminApi.js`
  - 创建 `PageRoutes.js` 处理页面路由
- ✅ **工具类优化**：
  - `SecretKeyManager`：统一秘钥管理逻辑
  - `WebLinkGenerator`：统一链接生成逻辑
  - 移除重复代码，提高可维护性

#### 数据库优化
- ✅ **角色权限系统**：`key.json` 支持 `role` 字段（admin/user）
- ✅ **Token系统**：8位Token替代64位，简化URL

#### 前端优化
- ✅ **单页应用路由**：Hash路由，无需刷新页面
- ✅ **组件化设计**：Modal、Toast等可复用组件
- ✅ **事件委托**：优化动态元素事件绑定
- ✅ **Toast提示优化**：Toast提示条幅置顶显示（桌面端距离顶部20px，移动端10px），z-index提升至99999，确保在所有元素之上显示
- ✅ **用户管理页面优化**：
  - 添加用户统计信息（总消息数、总字数、创建时间、更新时间）
  - 优化群聊列表显示（显示消息数、字数、排名）
  - 美化滚动条样式（自定义蓝色渐变滚动条）
  - 简化卡片设计，提升可读性
- ✅ **首页数据聚合**：选择"全部群聊"时自动聚合所有群聊的统计数据（今日发言、总发言、总字数、活跃天数等）
- ✅ **权限管理增强**：
  - 网页管理界面支持修改用户权限（user ↔ admin）
  - 添加权限检查调试日志
  - 页面刷新时自动检测权限变化

### 🐛 问题修复

- ✅ 修复管理页面每次刷新都弹窗验证的问题
- ✅ 修复背景设置和成就页面缺少身份验证的问题
- ✅ 修复Token访问时重复验证的问题
- ✅ 修复移动端Toast提示位置和消失问题
- ✅ 修复移动端下拉菜单样式问题
- ✅ 修复成就页面切换称号和显示状态的问题
- ✅ 修复管理页面概览显示群号而非群名的问题
- ✅ 修复用户管理显示用户ID而非用户名的问题
- ✅ 修复服务器重复启动的问题
- ✅ 修复ES模块导入错误（`require` → `import`）
- ✅ 修复新用户创建时默认角色问题（默认role为'user'）
- ✅ 修复key.json空文件导致的JSON解析错误
- ✅ 修复群内用户排名数据不显示的问题（字段映射错误）
- ✅ 修复首页选择"全部群聊"时数据不聚合的问题
- ✅ 修复用户管理页面群聊列表数据不显示的问题

---

## [3.0.4] - 2025-11-06

### ✨ 新增功能

#### 网页功能增强
- 🌐 **Token访问系统**：通过QQ命令生成Token链接，安全访问个人页面
  - `#水群网页`：生成个人统计页面链接
  - `#水群设置背景`：生成背景设置页面链接
  - Token自动验证身份，设置Cookie
- 🔗 **URL优化**：隐藏用户ID，使用Token替代URL参数
- 🎨 **页面美化**：
  - 首页优化：移除快速操作，优化卡片排序
  - 排行榜优化：统一列表样式，移动端卡片布局
  - 成就页面优化：切换群聊不闪烁，显示已佩戴状态
  - 背景设置页面优化：Fabric.js集成，图片编辑功能

### 🔧 技术优化

- ✅ **路由系统**：`PageRoutes.js` 处理Token验证和页面路由
- ✅ **Token管理**：`TokenManager.js` 管理Token生成、验证和消费
- ✅ **链接生成**：`WebLinkGenerator.js` 统一生成Token链接

---

## [3.0.3] - 2025-11-06

### ✨ 新增功能

#### 设置页面
- ⚙️ **用户设置页面**：全新的设置界面
  - 用户信息：显示用户ID和用户名，支持修改用户ID
  - 安全设置：秘钥管理（设置/修改/清除），支持验证码验证
  - 数据管理：清除本地缓存、重置所有设置
  - 关于信息：系统名称和版本

#### 秘钥管理增强
- 🔐 **验证码系统**：
  - 修改/移除秘钥需要验证码
  - 验证码通过机器人私信发送
  - 验证码有效期1分钟
  - 发送后按钮禁用并显示倒计时

### 🔧 技术优化

- ✅ **SecretKeyManager**：统一秘钥管理逻辑
- ✅ **VerificationCodeManager**：验证码生成和管理
- ✅ **Storage工具优化**：改进localStorage处理逻辑

---

## [3.0.2] - 2025-11-06

### ✨ 新增功能

#### 网页界面
- 🌐 **Web管理界面**：基于Express的Web服务器
  - 用户统计页面：查看个人发言统计
  - 排行榜页面：查看群聊排名
  - 成就页面：查看和管理成就
  - 背景设置页面：上传和设置背景图片
  - 设置页面：用户设置和秘钥管理
  - 管理页面：管理员功能（概览、群管理、用户管理）

#### 移动端适配
- 📱 **响应式设计**：所有页面完全适配移动端
  - 移动端导航菜单
  - 响应式布局（Grid/Flexbox）
  - 移动端优化的卡片和列表
  - 触摸友好的交互

### 🔧 技术优化

- ✅ **Web服务器**：`WebServer.js` 统一管理Web服务
- ✅ **API路由**：RESTful API设计
- ✅ **前端框架**：原生JavaScript + Tailwind CSS
- ✅ **路由系统**：Hash路由，单页应用

---

## [3.0.1] - 2025-11-04

### ✨ 新增功能

#### 成就系统增强
- ⏰ **自动佩戴成就时限**：自动佩戴的成就仅显示24小时，24小时后自动卸下
- 🔧 **手动设置无时限**：使用 `#水群设置显示成就` 手动设置的成就无时限，永久显示
- 📊 **成就统计功能**：新增 `#水群成就统计` 命令，查看每个成就的获取情况
  - 全局成就统计所有群的获取人数
  - 群专属成就仅统计当前群的获取人数
  - 按获取人数降序排序，获取人数相同时按稀有度排序
- ✨ **特殊成就支持**：新增"特殊"（Special）稀有度等级，最高稀有度
- 🌍 **全局成就同步**：特殊成就和节日成就都不重复获取，获取后在任意群都显示为已获取

#### UI/UX 优化
- 🎨 **成就列表卡片优化**：
  - 优化卡片布局，使用 Grid 布局确保文字对齐
  - 徽章和文字分开，所有文字从固定位置开始
  - 状态图标优化，更精致美观
  - 改进卡片样式，增加阴影和渐变效果
  - 添加 hover 效果，提升交互体验
- 📊 **成就统计显示优化**：
  - 获取人数字体增大（22px → 30px），更易阅读
  - 使用图标 👥 表示获取人数
  - 横向布局，描述和获取人数在同一行显示

### 🔧 技术优化

#### 数据库优化
- ✅ **数据库字段扩展**：`user_display_achievements` 表新增 `is_manual` 和 `auto_display_at` 字段
  - `is_manual`：标识是否为手动设置的成就（手动设置无时限）
  - `auto_display_at`：自动佩戴的时间戳（用于计算24小时时限）
- ✅ **数据库迁移**：自动检测并添加新字段，支持平滑升级

#### 代码优化
- ✅ **成就工具类扩展**：
  - 新增 `isSpecialAchievement()` 方法判断特殊成就
  - 新增 `isGlobalAchievement()` 方法判断全局成就（特殊成就或节日成就）
  - 统一全局成就的处理逻辑
- ✅ **成就服务优化**：
  - 新增 `checkAndRemoveExpiredAutoDisplay()` 方法，自动检查并卸下过期成就
  - 优化自动选择显示成就逻辑，设置24小时时限
  - 统一全局成就的检查和同步逻辑
- ✅ **数据库服务扩展**：
  - 新增 `getAchievementUnlockCount()` 方法，统计成就获取人数
  - 支持全局成就和群专属成就的分别统计

### 🐛 问题修复

- ✅ 修复成就列表显示时徽章被截断的问题
- ✅ 修复成就列表文字不对齐的问题（徽章宽度不一致导致）

---

## [3.0.0] - 2025-11-04

### ✨ 新增功能

#### 成就系统增强
- 🎯 **Guoba-Plugin 集成**：支持通过网页界面配置插件，可视化管理成就和配置
- 🏆 **成就系统重构**：17种成就类型，支持周/月统计、文本匹配、时间窗口条件
- 🌈 **成就稀有度系统**：7种稀有度（普通、不普通、稀有、史诗、传说、神话、节日）
- 👥 **群专属成就支持**：为特定群组创建专属成就，实现个性化成就系统
- 🎊 **节日成就不重复获取**：节日成就在一个群内达成后，自动同步到所有群，避免重复记录
- 📊 **成就列表优化**：图片化显示所有成就，支持已解锁/未解锁状态，按稀有度和解锁时间排序
- ⭐ **智能显示优化**：自动优先显示史诗及以上稀有度成就（包含史诗、传说、节日）

#### 查询功能增强
- 🔍 **查询他人功能**：支持通过 `@` 查询其他用户的统计信息（`#水群查询 @用户`）
- 📈 **个人统计优化**：
  - 显示群个数、消息占比等详细数据
  - 优化卡片布局：今日发言占两列，平均每日发言放在消息占比边上
  - 移除重复显示的统计数据，提升用户体验

#### UI/UX 优化
- 🎨 **成就显示优化**：成就徽章从名字前缀改为末尾卡片式显示
- 📋 **成就列表分隔条**：已解锁和未解锁成就之间添加视觉分隔条
- 🎨 **模板优化**：所有 HTML 模板内容生成集中在 JS 中，提高可维护性
- 🎨 **配色方案优化**：全局统计页面采用黑白灰配色，移除渐变效果

### 🔧 技术优化

#### 代码重构
- ✅ **统一工具类**：创建 `AchievementUtils.js` 工具类，统一稀有度配置和判断逻辑
  - 统一稀有度配置：`RARITY_ORDER`
  - 统一节日成就判断：`isFestivalAchievement()`
  - 统一成就排序：`sortUnlockedAchievements()`, `sortLockedAchievements()`
  - 统一稀有度比较：`isRarityOrHigher()`, `compareRarity()`
- ✅ **消除重复逻辑**：
  - 移除 `AchievementService.js`、`TemplateManager.js`、`AchievementCommands.js` 中重复的稀有度排序逻辑
  - 统一使用 `AchievementUtils` 工具类
- ✅ **模板优化**：所有动态 HTML 内容生成集中在 JS 中（`TemplateManager.js`）
  - `userStatsTemplate.html` - 用户统计模板
  - `achievementListTemplate.html` - 成就列表模板
  - `globalStatsTemplate.html` - 全局统计模板
  - `groupStatsTemplate.html` - 群组统计模板
  - `imageRankingTemplate.html` - 排行榜模板

#### 数据库优化
- ✅ **PostgreSQL 存储**：使用 `pg` 数据库驱动，提升查询性能
- ✅ **连接池管理**：优化数据库连接，提高并发能力
- ✅ **节日成就同步**：新增 `saveFestivalAchievementToAllGroups()` 方法，批量同步节日成就到所有群

#### 其他优化
- ✅ **动态路径解析**：完全消除硬编码路径，提高可移植性
- ✅ **配置热重载**：支持配置修改后自动重载
- ✅ **单例模式统一**：统一核心服务的单例实现，避免状态重复
- ✅ **UTC+8 时区**：所有时间操作统一使用 UTC+8 时区
- ✅ **数据去重**：移除重复显示的统计数据，优化用户体验

### 🐛 问题修复

- ✅ 修复日志重复输出问题
- ✅ 修复时区不一致问题
- ✅ 修复成就解锁重复提醒
- ✅ 修复成就查询数据错误（PostgreSQL 布尔类型判断）
- ✅ 修复成就显示数据错误（`unlocked === 1` 改为 `unlocked === true`）
- ✅ 修复群组名称显示问题（优先从数据库获取，支持从 Bot 内存获取）
- ✅ 修复排行榜分页问题（支持后续页面查询）
- ✅ 修复成就设置显示时的参数错误（`achievement_id`/`achievement_name` 改为 `id`/`name`）
- ✅ 修复全局统计用户数重复计算问题（`#水群总统计` 中用户数现在使用 Set 去重，确保跨群用户不重复计算）
- ✅ 修复 Guoba-Plugin 集成中群专属成就路径错误（`getConfigData.js` 和 `setConfigData.js` 中路径从 `config/achievements/group` 更新为 `data/achievements/group`）

### 🔧 配置优化

#### 目录结构优化
- ✅ **成就配置目录迁移**：将用户自定义成就配置目录从 `config/achievements` 迁移到 `data/achievements`
  - 系统默认成就仍保留在 `config/achievements.json`（只读）
  - 用户自定义成就现在存放在 `data/achievements/` 目录下
  - 群专属成就现在存放在 `data/achievements/group/{群ID}/` 目录下
  - 更符合数据与配置的分离原则，便于版本控制和数据管理
  - 更新相关代码路径：`AchievementService.js`、`getConfigData.js`、`setConfigData.js`
- ✅ **Git 忽略规则优化**：精确控制 `.gitignore`，确保用户配置不被提交，但保留 README.md 文档

### 📝 文档更新

- ✅ 更新 README.md，添加新功能说明
- ✅ 创建 CHANGELOG.md，详细记录所有更新内容
- ✅ 添加 Gitee 仓库链接
- ✅ 更新成就配置说明文档路径（`data/achievements/README.md`）

---

## [2.x.x] - 历史版本

> 注：v2.x 版本及之前的历史变更记录未详细记录。

---

## 版本说明

- **主版本号（Major）**：不兼容的 API 变更
- **次版本号（Minor）**：向后兼容的功能新增
- **修订版本号（Patch）**：向后兼容的问题修复

---

## 贡献指南

如果你发现文档中缺少某项更新，欢迎提交 Issue 或 Pull Request 来完善本文档。

